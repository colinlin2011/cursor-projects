使用 postman 调用 API 接口

飞书项目开放平台提供了第三方开发调试工具 Postman 的接口模板，开发者可以快速体验并测试各类接口，下文将阐述如何借助 Postman 工具调试开放能力的 OpenAPI 接口。 ​

前提条件​

  * 已​创建插件。​



  * 已​添加插件构成。​



  * 已获取需要调用的接口权限，参见​权限管理。​



操作步骤​

步骤一：配置接口模板​

1.

下载并安装 [Postman](https://www.postman.com/downloads/)，若您已安装，可跳过本步骤。​




2.

下载 Open API 模板本在本地解压。​




  * ​

​

开放能力open-api postman模板.zip

​

​



3.

在 Postman 中新建一个空白 Workspace。​




  * ​

​​​

​



4.

在新建的 Workspace 中导入 Open API 模板。模板包含两部分：环境模板和 API 模板。​




  * ​

​​​

​



步骤二：填写环境变量​

在 Postman 中单击 Environments，查看并配置开放平台环境变量文件，完成后保存文件，然后单击对钩是文件生效。​

​

​​​

​

配置环境变量有以下两种方式：​

  * 方式一：使用插件身份凭证配置​



  * 在开放平台环境变量文件中配置 project_key、base url、plugin_id、plugin_secret 和 user_key 信息。​



  * ​

变量名​| 描述​| 获取方式​  
---|---|---  
project_key​| 用于指定飞书项目空间​| 访问飞书项目空间，单击空间图标获取。​  
base url​| 飞书项目域名​| 例如[https://project.feishu.cn/](https://project.feishu.cn/)。​  
plugin_id​| 插件凭证信息​| 在插件基本信息页单击获取。​​​​​​  
plugin_secret​| 插件凭证信息​​| 在插件基本信息页单击获取。​​​​​​  
user_key​| 用户密钥​| 双击用户头像即可获取。​​​​​​  
  
​



  * 方式二：使用用户身份凭证配置​



  * 在开放平台环境变量文件中配置 project_key、base url、plugin_id、plugin_secret 和 cookie 信息。cookie 获取方式如下：飞书项目开放平台开启调试模式，通过 network 监控，任选一个请求，于 Headers 中获取 cookie 数据。 ​



  * ​

​​​

​



步骤三：获取访问凭证​

使用插件身份凭证

使用用户身份凭证

1.

在 Postman 中打开获取 plugin_token 接口，单击 Body 查看信息，然后单击 Send。​




  * ​

​​​

​



  * 📔

默认获取的是 plugin_token，用于在飞书项目空间安装插件后调用接口。若在插件开发调试过程中调用，请添加"type":1，详情参见​获取插件访问凭证 plugin_access_token。​

​



2.

选中 token 字段的值，右键单击选择 Set：开放平台环境变量 ＞ plugin_token。​




  * ​

​​​

​



​

​

步骤四：调用接口​

以​创建工作项 API 实现创建需求工作项创建为例，需要补充必填参数 project_key 和 work_item_type_key。​

1.

获取必填请求参数。​




  * project_key：在飞书项目空间双击空间图标获取。​



  * ​

​​​

​



  * work_item_type_key：可通过​获取空间下工作项类型 API 获取。​



2.

在 postman 中输入创建信息，返回结果如下：​




  * ​

​​​

​



3.

在飞书项目对应空间中查看创建结果。​




  * ​

​​​

​



​

上一篇

服务端 SDK

下一篇

通用说明
