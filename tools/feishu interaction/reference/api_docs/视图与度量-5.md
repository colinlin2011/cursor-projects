创建条件视图

该接口用于在指定空间和工作项类型下新增一个条件视图，对应的平台功能介绍详见​条件视图。对应的权限申请在 权限管理-视图 分类下，相关功能介绍详见 ​权限管理。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/view/v1/create_condition_view​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），在飞书项目空间双击空间名称获取。  
注意：不支持空间域名  
work_item_type_key| string| 必须| 工作项类型，系统自动生成，可通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取  
search_group| object| 必须| 筛选条件，用于组合条件搜索时使用。遵循[SearchGroup](../1p8d7djs/1x1d372l#a889b622)结构规范，可参考[条件视图格式及常用示例](../1p8d7djs/6ivq0dbj)。  
特殊说明：  
日期、日期+时间类型的字段进行筛选时，时间表达需为标准UTC格式（2024-09-01T00:00:00+07:00）。  
这类字段通过 OpenAPI 处理，暂不支持时分秒级筛选，所填参数会统一处理为天级计算。  
cooperation_mode| int64| 可选| 协作模式，用于指定视图的协作范围。支持的取值如下所示。

  * 1：指定人员或团队；
  * 2：全部空间管理员；
  * 3：全部空间成员。  
默认值为 1（指定人员或团队）。

  
cooperation_user_keys| list<string>| 可选| 指定人员 user_key，cooperation_mode 为1时适用  
cooperation_team_ids| list<int64>| 可选| 指定团队 team_id，cooperation_mode为1 时适用  
name| string| 必须| 视图名称  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
view_id| string| 创建成功的视图 ID  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

创建指定条件视图

创建默认条件视图

​

JSON

复制

{​

"project_key": "68d2526a6705dxxxxxxxxxx",​

"work_item_type_key": "story",​

"search_group":{​

"conjunction":"AND",​

"search_params":[​

{​

"param_key":"work_item_status",​

"value":["start"],​

"operator":"="​

}​

]​

},​

"cooperation_mode":1,​

"cooperation_user_keys":["123352"],​

"cooperation_team_ids": [123],​

"name":"test"​

}

​

​

返回示例​

创建条件视图

错误返回示例

​

JSON

复制

{​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": {​

"view_id": "1dkNiURvg" // 视图id​

}​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
20029| Unsupported Field Type| 20029| search param key is invalid| 不支持更新的字段类型（字段 key 会在 msg 中返回）  
50006| Invalid params| 50006| field not found: hjc_space| 无效参数，请检查请求入参  
  
​

上一篇

更新固定视图

下一篇

更新条件视图
