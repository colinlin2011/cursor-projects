上传文件或富文本图片

该接口为通用的文件上传接口，会返回上传后的资源路径，主要用于富文本中上传图片。对应的权限申请在权限管理-工作项实例分类下，相关功能介绍详见 ​权限管理。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/:project_key/file/upload​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
  
​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
file| file，form 表单中上传| 必须| 附件-目前最大支持100M  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| string| 附件链接  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时0，请求失败返回实际错误码。  
  
​

请求示例​

​

JSON

复制

{​

"file": "example.jpg" // body 传文件二进制流​

}

​

返回示例​

成功返回示例

错误返回示例

​

JSON

复制

{​

"data":"https://project.feishu.cn/goapi/v1/tos/file/meego/checklist/c11210bb-adc8-4ff8-8925-eed36912f4f3.png?isSaas=1",​

"err": {},​

"err_msg": "",​

"err_code": 0​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30016| ErrAPIProjectNotFound| 30016| Project Not Found| 传入的 project_key 不正确  
1000050174| ErrAPIUploadFileSizeUpperLimit| 1000050174| Uploaded File Size Limit 100M| 传入的文件大小超过 100M  
  
​

上一篇

添加附件

下一篇

下载附件
