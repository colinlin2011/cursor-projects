获取流程模板配置详情

该接口用于获取指定流程模板的配置信息详情，包括节点信息配置和节点流转配置，节点事件配置暂不支持，对应的平台功能介绍详见​节点流程规则配置或​状态流程配置，对应的权限申请 权限管理-流程类型 分类下，相关功能介绍详见 ​权限管理。​

​

​​​

​

请求说明​

  * 请求方式：GET​



  * 请求地址：/open_api/:project_key/template_detail/:template_id​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
template_id| string| 必须| 工作项流程模板 ID，未传值时默认使用该工作项类型的第一个流程模板。可通过以下方式获取：

  * 从[获取创建工作项元数据](../1p8d7djs/2jhqmwhn)接口中的 template 字段的 options 中获取，选择对应的 value；
  * 从[获取工作项下的流程模板列表](../1p8d7djs/3pq8jlhd)接口的 template_id 获取；
  * 从[获取字段信息](../1p8d7djs/3tsposa2)接口中的 template 字段的 options 中获取，选择对应的 value。

  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| object| 流程模版信息，遵循[TemplateDetail](../1p8d7djs/1x1d372l#891dbc5d)结构规范  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

​

请求示例​

获取节点流工作项模板

获取状态流工作项模板

​

JSON

复制

GET /open_api/676e6839bd3a3bcba14bxxxx/template_detail/126941xxxx​

​

​

返回示例​

获取节点流工作项模板

获取状态流工作项模板

错误返回示例

​

JSON

复制

{ //节点流​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": {​

"template_id": 322091xxxx, //流程模板id​

"template_name": "流程名称", //流程模板名称​

"version": 12, //模板当前版本号​

"is_disabled": 2, // 是否禁用，1禁用，2启用​

"work_item_type_key": "story", //工作项类型​

"workflow_confs": [​

{​

"name": "开始", //节点名称​

"owner_usage_mode": 1, //负责人分配方式(1自行添加/2指定角色/3全部默认分配/4条件默认分配)​

"done_allocate_owner": false, //节点流转负责人是否必填​

"different_schedule": false, //节点流转估分排期是否必填​

"done_operation_role": [​

"_space_manager",​

"Data"​

],//完成操作角色，如：“空间管理员ID：_space_manager” 和“自定义角色ID：Data”​

"done_actual_point": false, //是否必填实际工时​

"tags": [​

"tag_start"​

], //对接标识​

"pass_mode": 1, //节点完成方式 1自动完成/2单人确认/3多人确认​

"done_schedule": false, //节点流转估分排期是否必填​

"need_schedule": false, //节点是否需填写排期与估分，true需要，false不需要​

"is_limit_node": false, //是否为限制节点​

"fields": [​

{​

"field_key": "field_897169", //字段key​

"field_type_key": "text", //字段类型​

"is_required": 2, // 是否必填，1 ：必填 ；2 ：非必填​

"field_name": "版本号", //字段名称​

"field_alias": "key_version_code" // 对接标识​

}​

], //节点表单​

"state_key": "start",//节点id​

"deletable": false,//是否允许删除节点​

"deletable_operation_role": [​

"_node_owner",​

"Data"​

], //删除操作授权角色，如：“空间管理员ID：_space_manager” 和 “自定义角色ID：Data”​

"done_finish_time": false, //是否必填截止时间​

"is_milestone": false, //是否为里程碑节点​

"sub_work_items": [ //子工作项配置​

{​

"name": "子工作项1", //子工作项名​

"relation_uuid": "662e151cd7fd734ae1874213:work_item_relation:relation_1726676869909", //子工作项基于的关系UUID​

"relation_name": "子缺陷", //子工作项基于的关系名​

"work_item_type_key": "issue", //子工作项所属工作项类型key​

"work_item_type_name": "缺陷" //子工作项所属工作项类型名​

}​

],​

"visibility_usage_mode": 1, //节点可见性，1默认可见，2条件可见​

"sub_tasks": [​

{​

"owner_roles": [], //关联角色或角色范围​

"owners": [], //默认人员，mode=1且统一展示时有值​

"name": "子任务", //子任务名称​

"owner_usage_mode": 4 //任务负责人分配方式(1自行添加/2指定角色/3全部默认分配/4条件默认分配)​

}​

]​

},​

{​

"fields": [],​

"state_key": "doing",​

"is_milestone": false,​

"visibility_usage_mode": 1,​

"done_operation_role": [​

"_node_owner",​

"_space_manager",​

"_creator"​

],​

"done_allocate_owner": false,​

"different_schedule": true,​

"is_limit_node": false,​

"need_schedule": true,​

"pass_mode": 2,​

"deletable_operation_role": [​

"_node_owner",​

"_space_manager"​

],​

"sub_tasks": [],​

"deletable": false,​

"sub_work_items": [],​

"done_schedule": true,​

"done_actual_point": false,​

"name": "进行中",​

"owner_usage_mode": 1​

},​

{​

"different_schedule": false,​

"done_operation_role": [​

"_node_owner",​

"_space_manager",​

"_creator"​

],​

"fields": [],​

"need_schedule": false,​

"visibility_usage_mode": 1,​

"deletable_operation_role": [​

"_node_owner",​

"_space_manager"​

],​

"done_actual_point": false,​

"sub_work_items": [],​

"name": "结束",​

"pass_mode": 1,​

"done_allocate_owner": true,​

"is_milestone": false,​

"sub_tasks": [],​

"state_key": "end",​

"deletable": false,​

"is_limit_node": false,​

"done_schedule": false,​

"owner_usage_mode": 1​

}​

],​

"connections": [//节点连接信息​

{​

"source_state_key": "start",//开始节点id​

"target_state_key": "doing"//目标节点id​

},​

{​

"target_state_key": "end",​

"source_state_key": "doing"​

}​

]​

}​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
50006| template not found| 50006| template not found| 请检查模版 ID 是否正确。  
30001| Data Not Found| 30001| Data Not Found| 传入的 project_key 空间下找不到对应的 template_id 。  
  
​

上一篇

获取工作项下的流程模板列表

下一篇

新增流程模板
