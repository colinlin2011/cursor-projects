获取创建工作项元数据

该接口用于获取指定工作项类型的元数据，即获取该工作项在布局页面设置的所有字段信息。开发者可在创建、更新工作项时对该接口获取到的字段值进行修改。目前接口返回数据需在平台页面布局配置中提前添加，对应的平台功能介绍详见​页面布局，接口返回顺序并非表单顺序。对应的权限申请在权限管理-工作项实例分类下，相关功能介绍详见​权限管理。​

​

​​​

​

请求说明​

  * 请求方式：GET​



  * 请求地址：/open_api/:project_key/work_item/:work_item_type_key/meta​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
work_item_type_key| string| 必须| 工作项类型，系统自动生成，可通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<object>| 返回值，遵循[FieldConf](../1p8d7djs/1x1d372l#92c2e781)结构规范  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

​

JSON

复制

GET /open_api/68a685fea9131d2cec4b****/work_item/story/meta​

​

返回示例​

请求成功示例

错误返回示例

​

JSON

复制

{​

"data": [//注：若想在接口中返回字段，需在该工作项的详情页配置中添加该字段​

{​

"default_value": { ​

"default_appear": 3, //是否存在默认值， 1默认出现，2默认不出现，3条件出现​

"value": null //默认值​

},​

"field_alias": "name", //对接标识​

"field_key": "name", //字段key​

"field_name": "名称", //字段名称​

"field_type_key": "text", //字段类型​

"is_required": 2, //是否必填，1 ：必填 ；2 ：非必填 ；3 ：条件必填​

"is_validity": 1, //有效性 ， 1 ：有效 ；3 ： 条件有效​

"is_visibility": 1, //可见性，Visibility = 1 //可见 CondVisibility = 2 //条件可见​

"label": "name" //表单项名称​

"field_uuid": "68382b399de4b0ec6c5axxxx:story:description",//uuid​

"field_tips": ""​

"sub_type_level_mode": "",​

"sub_type_level_class": 0,​

},​

{​

"is_visibility": 1,​

"field_name": "需求文档",​

"field_alias": "wiki",​

"free_add": false,​

"sub_type_level_class": 0,​

"field_key": "wiki",​

"label": "",​

"field_uuid": "68382b399de4b0ec6c5axxxx:story:wiki",​

"field_tips": "",​

"is_required": 2,​

"field_type_key": "link",​

"is_validity": 1,​

"sub_type_level_mode": "",​

"default_value": {​

"default_appear": 2​

}​

},​

{​

"field_name": "角色与人员",​

"is_validity": 1,​

"field_key": "role_owners",​

"field_type_key": "role_owners",​

"field_alias": "",​

"role_assign": [​

{​

"role": "role_2b6357",​

"name": "发起人",​

"default_appear": 1,​

"deletable": 1,​

"member_assign": 1​

},​

{​

"member_assign": 1,​

"role": "role_7908a9",​

"name": "负责人",​

"default_appear": 1,​

"deletable": 1​

}​

],​

"is_required": 2,​

"is_visibility": 1​

}, ​

{​

"field_key": "field_c9c844", //复合字段​

"sub_type_level_class": 0,​

"field_uuid": "68382b399de4b0ec6c5axxxx:story:field_c9c844",​

"field_tips": "",​

"sub_type_level_mode": "",​

"is_required": 1,​

"is_visibility": 1,​

"default_value": {​

"default_appear": 2​

},​

"compound_fields": [​

{​

"field_key": "field_b34565",​

"is_validity": 1,​

"field_name": "复合字段1",​

"field_tips": "",​

"sub_type_level_mode": "",​

"sub_type_level_class": 0,​

"is_visibility": 1,​

"field_alias": "",​

"field_type_key": "text",​

"is_required": 2,​

"field_uuid": "68382b399de4b0ec6c5axxxx:story:field_b34565",​

"free_add": false },​

{ ​

"is_required": 2,​

"field_alias": "",​

"field_name": "复合字段2",​

"is_validity": 1,​

"free_add": false,​

"field_key": "field_db0b07",​

"field_type_key": "text",​

"field_uuid": "68382b399de4b0ec6c5xxxx:story:field_db0b07",​

"field_tips": "",​

"sub_type_level_class": 0,​

"is_visibility": 1,​

"sub_type_level_mode": ""​

}​

],​

"free_add": false,​

"field_name": "复合字段",​

"field_alias": "",​

"field_type_key": "compound_field",​

"is_validity": 1,​

"label": ""​

},​

],​

"err": {},​

"err_code": 0,​

"err_msg": ""​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
20044| WorkItem Has Been Disabled| 20044| WorkItem Has Been Disabled| 工作项类型已被禁用。  
30014| WorkItem Type Not Found| 30014| WorkItem Type Not Found| 未找到指定的工作项类型。  
  
​

上一篇

获取工作项详情

下一篇

创建工作项
