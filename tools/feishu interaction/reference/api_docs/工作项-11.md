获取批量更新处理进度

该接口用于获取​批量更新工作项字段值接口提交的任务处理进度。​

注意事项​

  * 该接口无需申请权限。​



  * 此接口 QPS 限制为1，需合理使用。​



请求说明​

  * 请求方式：GET​



  * 请求地址：/open_api/task_result​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Query​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
task_id| string| 必须| 任务 ID，由[批量更新工作项字段值](../1p8d7djs/1ejjh85x)接口返回。  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
task_id| string| 任务 ID。  
task_status| string| 任务的状态，用于标识当前任务的执行情况。支持的取值如下所示。

  * SUCCESS：任务成功；
  * IDLE：任务等待中；
  * RUNNING：任务处理中；
  * FAILED：任务失败；
  * CANCELED：任务已取消；
  * NOT_EXIST：任务不存在。

  
total| int64| 任务更新的实例总数。  
success_total| int64| 更新失败的实例数量。  
error_total| int64| 更新失败的实例数量。  
success_sub_task_list| list<string>| 成功实例列表  
fail_sub_task_list| list<string>| 失败实例列表  
error_scenes| list<string>| 任务执行过程中失败的场景类型列表，常见错误类型包括但不限于：

  * RelationCaseLoops：父子关系实例存在循环；
  * RelationCaseLevelExceeds：父子关系实例层级超出限制；
  * DuplicationCheckEnabledForThisField：字段已被占用；
  * NoPermissionToModify：无编辑权限；
  * WorkItemTerminated：工作项已终止。

  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

​

JSON

复制

GET /open_api/task_result?task_id=WORK_ITEM_BATCH_UPDATE-739996511521769xxxx​

​

返回示例​

​

JSON

复制

{​

"task_id": "WORK_ITEM_BATCH_UPDATE-739996511521769xxxx",​

"task_status": "FAILED", //任务状态："SUCCESS"：成功 "FAILED"：失败​

"total": 5, //执行实例总数​

"success_total": 3,//成功实例总数​

"error_total": 2,//错误实例总数​

"success_sub_task_list": [//成功实例列表​

"462042xxxx",​

"461795xxxx",​

"461669xxxx"​

],​

"fail_sub_task_list": [//失败实例列表​

"461838xxxx",​

"461838xxxx"​

],​

"error_scenes": [ //失败原因：没有权限修改字段值​

"NoPermissionToModify",​

"WorkItemTerminated"​

],​

"err": {},​

"err_msg": "",​

"err_code": 0​

}

​

错误码​

服务端调用常见错误码及原因分析请参考 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

上一篇

批量更新工作项字段值

下一篇

交付物信息批量查询（WBS）
