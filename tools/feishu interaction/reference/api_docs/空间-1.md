获取空间列表

该接口用于获取指定用户有权限访问且安装了插件的空间列表信息，对应的权限申请在权限管理-空间分类下，相关功能介绍详见​权限管理。​

注意事项​

使用虚拟 Token 获取空间列表时，只能查询该插件在权限管理 > 选择数据范围中设置的空间的数据。若想查询其他空间请使用正式 Token。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/projects​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
user_key| string| 必须| 指定用户的唯一标识，用于查询该用户的相关信息。

  * 开发者自己的 user_key，在飞书项目空间左下角双击个人头像获取。
  * 租户内其他成员的 user_key，请通过[搜索租户内的用户列表](../1p8d7djs/4cxu45fl)接口获取。

  
order| list<string>| 可选| 排序字段，格式为前缀＋排序字段。＋号表示升序；-表示降序；不加默认为升序，目前仅支持对  last_visited（最近访问时间）排序。  
示例：

  * last_visited 表示按最近访问时间升序。
  * +last_visited 表示按最近访问时间升序。
  * -last_visited 表示按最近访问时间降序。

  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<string>| 符合条件的空间 project_key 列表。  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败返回报错信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

默认排序

降序排列

​

JSON

复制

{​

"user_key": "749112601802809****" //填写 user_key​

}

​

​

返回示例​

默认排序

降序排列

查询结果为空

调用失败

​

JSON

复制

{​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": [​

"68ee2ffacb1d2aad2019****",​

"68ee1d78cb1d2aad2019****",​

"68382b399de4b0ec6c5a****"​

]​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30006| User Not Found| 30006| User Not Found| user_key 不正确，用户查询为空，请输出正确的 user_key。  
10302| Check User Error, User Is Resigned| 10302| Check User Error, User Is Resigned| 该查询用户已离职。  
  
​

上一篇

更新用户组成员

下一篇

获取空间详情
