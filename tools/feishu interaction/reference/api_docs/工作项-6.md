获取工作项详情

该接口用于获取指定空间和工作项类型下的一个工作项实例的详细信息，包括一个工作项实例（如一个需求）详情页中所有的字段信息。工作项实例是一个具体的事例，例如一个已经创建的需求、缺陷、项目等，详见​名词解释。对应的权限申请在 权限管理-工作项 分类下，相关功能介绍详见 ​权限管理。常见问题可参考​工作项实例。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/:project_key/work_item/:work_item_type_key/query​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
work_item_type_key| string| 必须| 工作项类型，创建工作项时自动生成，通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
  
​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
work_item_ids| list<int64>| 必须| 工作项实例 ID，可以填写多个，一次请求最大50个。  
fields| list<string>| 可选| 工作项中的字段标识，非必填，默认返回全部。字段格式可查看[字段与属性解析格式](../1p8d7djs/1tj6ggll)。支持两种模式，两种模式不可混用。

  * 指定字段：仅返回fields 中列出的字段。例如 ["aborted","role_owners"] 表示只返回 aborted 和 role_owners 字段。
  * 排除字段：以 - 开头表示排除该字段。例如 ["-aborted","-role_owners"] 表示返回除aborted和 role_owners 外的所有字段。

  
expand| object| 可选| 额外参数支持  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<object>| 该返回结构遵循结构体[WorkItemInfo](../1p8d7djs/1x1d372l#a16fbe28)格式与规范。  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时0，请求失败返回实际错误码。  
  
​

请求示例​

查询节点流工作项

查询状态流工作项

指定 field 字段查询

带 expand 参数查询

请求路径：POST/open_api/68382b399de4b0ec6c5axxxx/work_item/story/query​

​

JSON

复制

{​

"work_item_ids":[301228xxxx] //工作项 ID​

}

​

​

返回示例​

查询节点流工作项

查询状态流工作项

指定 field 字段查询

带 expand 参数查询

错误返回示例

​

JSON

复制

{​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": [​

{​

"id": 643711xxxx,//工作项 ID​

"project_key": "68382b399de4b0ec6c5axxxx",//空间 ID​

"name": "测试需求",//工作项名称​

"work_item_type_key": "story",//工作项类型​

"pattern": "Node",//工作流模式：Node节点流，State状态流​

"deleted_at": 0,//删除时间​

"created_by": "749112601802809xxxx", //创建人 user_key​

"deleted_by": "", // 创建人 user_key​

"updated_by": "749112601802809xxxx", //更新人 user_key​

"updated_at": 1761475143215, // 更新时间​

"created_at": 1761475084469,// 创建时间​

"template_type": "68382b399de4b0ec6c5axxxx_template_174851155323979xxxx", //模板类型，该字段已废弃​

"sub_stage": "doing", //需求状态(仅早期实例涉及，已弃用)​

"template_id": 3047075,​

"simple_name": "int8gp",​

"work_item_status": { //工作项状态​

"is_init_state": false, // 是否为初始状态​

"updated_at": 1761475143215, ​

"updated_by": "749112601802809xxxx",​

"history": [​

{​

"is_init_state": true,​

"updated_at": 1761475084219,​

"updated_by": "749112601802809xxxx",​

"state_key": "started",​

"is_archived_state": false​

}​

],​

"state_key": "doing",​

"is_archived_state": false // 是否为结束状态​

},​

"state_times": [ //状态保持时间​

{​

"state_key": "start",​

"start_time": 1761475084281,​

"end_time": 1761475143203,​

"name": "开始"​

},​

{​

"start_time": 1761475143207,​

"end_time": 0,​

"name": "进行中",​

"state_key": "doing"​

}​

],​

"fields": [ // 字段信息​

{​

"field_value": {​

"id": 3047075,​

"version": 8​

},​

"field_type_key": "work_item_template",​

"field_alias": "template",​

"field_key": "template"​

},​

{​

"field_alias": "",​

"field_key": "chat_group",//群组（新）​

"field_value": "oc_d200e26a82e06062ef871397xxxx",//群组ID，推荐使用 ​

"field_type_key": "chat_group"​

},​

{​

"field_value": "oc_d200e26a82e06062ef871397xxxx", //历史逻辑中可能为数字字符串，建议优先使用chat_group字段 ​

"field_type_key": "group_id",//群组（旧）​

"field_alias": "",​

"field_key": "group_id"​

},​

{​

"field_alias": "",​

"field_key": "role_owners",​

"field_value": [​

{​

"role": "role_2b6357",​

"owners": null​

},​

{​

"owners": [​

"7491126018028093443"​

],​

"role": "role_7908a9"​

}​

],​

"field_type_key": "role_owners"​

},​

{​

"field_key": "owner",​

"field_value": "749112601802809xxxx",​

"field_type_key": "user",​

"field_alias": "owner"​

},​

{​

"field_type_key": "group_type",​

"field_alias": "",​

"field_key": "group_type",​

"field_value": "disabled"​

},​

{​

"field_key": "start_time",​

"field_value": 176147508xxxx,​

"field_type_key": "date",​

"field_alias": "start_time"​

},​

{​

"field_key": "description",​

"field_value": "文档测试",​

"field_type_key": "multi_text",​

"field_alias": "description"​

}​

],​

"current_nodes": [ //当前进行中节点(仅节点流有值)​

{​

"owners": [],​

"milestone": false,​

"id": "doing",​

"name": "进行中"​

}​

]​

}​

]​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30005| WorkItem Not Found| 30005| WorkItem Not Found| 传入的 work_item_ids 不正确，请传入正确有效的值。  
20028| Workitem Ids Limit 50| 20028| Workitem Ids Limit 50| 传入的 work_item_ids 超过 50 个  
30014| WorkItem Type Not Found| 30014| WorkItem Type Not Found| work_item_type_key错误，请通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
  
​

上一篇

获取指定的关联工作项列表（单空间）

下一篇

获取创建工作项元数据
