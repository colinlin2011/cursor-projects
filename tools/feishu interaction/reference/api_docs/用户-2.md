搜索租户内的用户列表

该接口用于模糊搜索租户内的用户并返回其详细信息。对应的权限申请在权限管理-用户分类下，相关功能介绍详见​权限管理。​

​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/user/search​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
query| string| 可选| 搜索的关键词，例如用户名称。  
project_key| string| 可选| 空间 ID（project_key），用于判断所属哪个租户，在飞书项目空间双击空间名称获取。  
**说明** ：

  * 若该插件是企业插件，当用户**主租户** 和**插件租户** 不一致时，**此参数必填** 。
  * 若该市场插件是市场插件，**此参数必填** 。

  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<object>| 查询用户信息  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

在租户内搜索

指定租户信息

​

JSON

复制

{​

"query": "用户1"​

}

​

​

返回示例​

在租户内搜索

指定租户信息

调用成功但空返回

错误返回示例

通过 query 关键词搜索词进行搜索时，会将该租户内所有含关键词的用户均搜索出来。例如传入“用户1”，则搜索结果包含“用户1”、“用户1.1”。​

​

JSON

复制

{​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": [​

{​

"avatar_url": "https://s1-imfile.feishucdn.com/static-resource/v1/xxx",​

"name_cn": "用户1",​

"name_en": "user1",​

"user_id": 0,​

"user_key": "749112601802809xxxx",​

"email": "user1@bytedance.com",​

"name": {​

"en_us": "user1",​

"default": "用户1",​

"zh_cn": "用户1"​

},​

"username": "749112601802809xxxx",​

"out_id": "on_039c6d39084bbb048d2b34a12bc9xxxx",​

"status": "activated"​

},​

{​

"username": "700518411358176xxxx",​

"email": "user1.1@bytedance.com",​

"avatar_url": "https://s1-imfile.feishucdn.com/static-resource/v1/xxxx",​

"status": "activated",​

"name": {​

"default": "用户1.1",​

"zh_cn": "用户1.1",​

"en_us": "user1.1"​

},​

"user_id": 0,​

"user_key": "700518411358176xxxx",​

"out_id": "on_bb02090caf82df54725427b70b25xxxx",​

"name_cn": "用户1.1",​

"name_en": "user1.1"​

}​

]​

}

​

​

错误码​

服务端调用常见错误码及原因分析请参考 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30006| User Not Found| 30006| User Not Found| Header 中传入的 user_key 未找到对应用户。  
1000052063| Project Not Exist| 1000052063| Project Not Exist| 传入的 project_key 不正确，请在入参中输入正确的 project_key，或删除 project_key 入参信息。  
  
​

上一篇

获取用户详情

下一篇

获取空间下团队人员
