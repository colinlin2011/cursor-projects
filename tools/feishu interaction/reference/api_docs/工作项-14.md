终止/恢复工作项

该接口用于终止或者恢复指定空间和工作项类型下的一个工作项实例，对应的权限申请在 权限管理-工作项实例分类下，相关功能介绍详见​权限管理。​

​

​​​

​

请求说明​

  * 请求方式：PUT​



  * 请求地址：/open_api/:project_key/work_item/:work_item_type_key/:work_item_id/abort​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
work_item_type_key| string| 必须| 工作项类型，可以通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
work_item_id| string| 必须| 工作项实例 ID，在工作项实例详情中，展开右上角 **··· > ID** 获取。  
  
​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
is_aborted| boolean| 可选| 标识是否终止或恢复需求。

  * true：终止需求；
  * false：恢复需求。

  
reason| string| 可选| 终止或恢复需求的原因，当 reason_option 为 other时，此字段为必填。  
reason_option| string| 可选| 终止/恢复原因选项

  * 终止原因选项（对应用户配置的系统字段**终止原因** 选项值，获取方式参考[获取字段信息](../1p8d7djs/3tsposa2)，查看终止原因字段的选项）参考如下： 
    * cancel ： 取消，现在先不做了
    * repeat ： 重复/合并，与其他在做的工作项一起推进
    * test： 测试一下
    * other：其他
  * 恢复原因选项（固定选项，不可配置）： 
    * restart ： {name}重启 // name为工作项的名字
    * rollback：误操作回退
    * test ： 测试
    * other： 其他

  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

终止工作项

恢复工作项

​

JSON

复制

{​

"is_aborted": true,​

"reason": "测试",​

"reason_option": "test"​

}

​

​

返回示例​

终止工作项

恢复工作项

错误返回示例

​

JSON

复制

{​

"data": {},​

"err": {},​

"err_msg": "",​

"err_code": 0​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
20007| WorkItem Is Already Aborted| 20007| WorkItem Is Already Aborted| 工作项已经被终止  
30005| WorkItem Not Found| 30005| WorkItem Not Found| 工作项未找到，可能是工作项已删除、查询的工作项 ID 不正确、查询的工作项类型和工作项 ID 不匹配  
20008| WorkItem Is Already Restored| 20008| WorkItem Is Already Restored| 工作项已经被恢复  
20090| Your request has been Intercept| 20090| Your request has been intercepted.| 请求或操作被插件拦截了  
  
​

上一篇

删除工作项

下一篇

冻结/解冻工作项
