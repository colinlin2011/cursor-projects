获取视图列表及配置信息

该接口用于在指定空间，搜索符合请求参数中传入条件的视图列表及相关配置信息，对应的平台功能介绍详见​视图介绍。​

对应的权限申请在 权限管理-视图 分类下，相关功能介绍详见 ​权限管理。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/:project_key/view_conf/list​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
  
​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
work_item_type_key| string| 必须| 工作项类型，系统自动生成，可通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
注：不支持sub_task工作项类型  
view_name| string| 可选| 视图名称，支持模糊搜索。若同时指定了 view_ids 和 view_name，则 view_name 会被忽略，仅返回 view_ids对应的结果。  
view_ids| list<string>| 可选| 视图 ID 列表，用于查询指定视图 ID 对应的视图配置信息。若指定了该参数，其他筛选条件将不会生效。  
created_by| string| 可选| 创建者 ID，用于筛选指定用户创建的视图信息。该字段与 view_name、view_ids按且关系共同生效。  
created_at| object| 可选| 创建时间（支持时间区间查询，可不传截止时间，代表至今）  
page_size| int64| 可选| 分页大小，最大页大小是10，默认为10  
page_num| int64| 可选| 页码，默认为1  
is_query_quick_filter| boolean| 可选| 是否查询快捷筛选，默认为 false。当设置为 true 时，接口将返回包含快捷筛选条件的视图信息；设置为 false时，则不返回。  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<object>| 视图信息，遵循[FixView](../1p8d7djs/1x1d372l#65b5b377)格式规范  
pagination| object| 分页信息  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

查询含快筛条件的视图

查询不含快筛条件的视图

请求路径：POST /open_api/68382b399de4b0ec6c5xxxx/view_conf/list​

​

JSON

复制

{​

"work_item_type_key": "story",​

"view_ids": [​

"Lwopj8xxx"​

],​

"created_by": "xxx",​

"created_at": {​

"end": 1753933694380,​

"start": 1753933694372​

},​

"page_size": 10,​

"page_num": 1,​

"view_name": "xxx",​

"is_query_quick_filter": true​

}

​

​

返回示例​

查询含快筛条件的视图

查询不含快筛条件的视图

错误返回示例

​

JSON

复制

{​

"pagination": {​

"page_num": 1,​

"page_size": 2,​

"total": 23​

},​

"data": [​

{​

"auth": 2,​

"collaborators": [],​

"created_at": 1625538378124,​

"created_by": "",​

"quick_filters": [], // 快筛条件信息​

"name": "待评审需求池",​

"system_view": 1,​

"view_id": "55shx6knRM",​

"view_type": 0,​

"view_url": "https://XXX.feishu.cn/zjq-test/storyView/55shx6knRM"​

},​

{​

"auth": 2,​

"collaborators": [],​

"created_at": 1625538378124,​

"created_by": "",​

"quick_filters": [ // 快筛条件信息​

{​

"quick_filter_id": "lInogksF-vlZW-YwE7-f4vY-WgSxxxxxxx",​

"quick_filter_name": "快捷筛选1"​

}​

],​

"name": "上线需求池",​

"system_view": 1,​

"view_id": "55s2bezng",​

"view_type": 0,​

"view_url": "https://XXX.feishu.cn/zjq-test/storyView/55s2bezng"​

}​

],​

"err": {},​

"err_code": 0,​

"err_msg": ""​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30004| view not exist| 30004| view not exist| 视图不存在  
30014| WorkItem Type Not Found| 30014| WorkItemTypeKey Not Found Or No Permission| 工作项类型不存在或者没有权限  
50006| Miss params| 50006| view id or stage missing| 缺少必填参数  
  
​

上一篇

删除评论

下一篇

获取视图下工作项列表（非全景视图）
