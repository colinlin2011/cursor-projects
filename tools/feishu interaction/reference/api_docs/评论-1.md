查询评论

该接口用于获取指定工作项下的所有评论信息，按照创建时间升序返回，对应的权限申请在 权限管理-评论 分类下，相关功能介绍详见 ​权限管理。​

请求说明​

  * 请求方式：GET​



  * 请求地址：/open_api/:project_key/work_item/:work_item_type_key/:work_item_id/comments​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
work_item_type_key| string| 必须| 工作项类型，从[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
work_item_id| string| 必须| 工作项实例 ID，在工作项实例详情中，展开右上角 **··· > ID**获取。  
  
​

Query​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
page_size| int32| 可选| 每页返回的数据条数，最大支持 200条。  
page_num| int32| 可选| 分页页码，从 1 开始计数，默认值为 1。  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<object>| 返回的评论数据，该返回结构遵循结构体[Comment](../1p8d7djs/1x1d372l#006e1870)格式与规范。  
pagination| object| 分页信息，包含当前查询的数据总数、当前页数和每页数据量。  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时0，请求失败返回实际错误码。  
  
​

请求示例​

查询全部评论

指定分页查询

​

JSON

复制

GET /open_api/68382b399de4b0ec6c5axxxx/work_item/story/628372xxxx/comments​

​

​

返回示例​

查询全部评论

指定分页查询

错误返回示例

​

JSON

复制

{​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": [​

{​

"id": 756543110805549xxxx, // 评论 ID​

"work_item_id": 621541xxxx, //工作项 ID​

"work_item_type_key": "story",​

"created_at": 1761464548000, //创建时间，毫秒精度​

"operator": "749112601802809xxxx", // 评论人 user_key​

"content": "测试评论1"​

},​

{​

"work_item_id": 621541xxxx,​

"work_item_type_key": "story",​

"created_at": 1761464570000,​

"operator": "749112601802809xxxx",​

"content": "测试评论2[图片]\n",​

"id": 756543115573937xxxx​

}​

],​

"pagination": { // 分页信息​

"total": 2,​

"page_num": 1,​

"page_size": 200​

}​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
1000051135| WorkItem Not Found| 1000051135| WorkItem Not Found| 查询的工作项实例不存在。  
1000051280| Params Is Invalid| 1000051280| params is invalid| user_key、work_item_id 或者 work_item_type_key为空。  
1000051256| No Permission| 1000051256| no permission| 无权限查询该工作项实例的评论信息。  
20002| Page Size Limit| 20002| Page Size Limit| 分页大小超过200。  
  
​

上一篇

获取流程角色配置详情

下一篇

添加评论
