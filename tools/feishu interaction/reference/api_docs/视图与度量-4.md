创建固定视图

该接口用于在指定空间和工作项类型下新增一个固定视图，对应的平台功能介绍详见​固定视图。对应的权限申请在权限管理-视图&度量分类下，相关功能介绍详见 ​权限管理。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/:project_key/:work_item_type_key/fix_view​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
work_item_type_key| string| 必须| 工作项类型，通过[获取空间下工作项类型](../1p8d7djs/3pjp854w)接口获取。  
  
​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
work_item_id_list| list<int64>| 必须| 工作项 ID 列表，数量上限为 200。  
name| string| 必须| 视图名称。  
cooperation_mode| int64| 可选| 协作模式，用于指定视图的协作范围，默认值为 1。支持的取值如下所示。

  * 1：指定人员或团队；
  * 2：全部空间管理员；
  * 3：全部空间成员。

  
cooperation_user_keys| list<string>| 可选| 指定人员 user_key，cooperation_mode 为 1 时适用。

  * 开发者自己的 user_key，在飞书项目空间左下角双击个人头像获取。
  * 租户内其他成员的 user_key，请通过[搜索租户内的用户列表](../1p8d7djs/4cxu45fl)接口获取。

  
cooperation_team_ids| list<int64>| 可选| 指定团队 team_id，cooperation_mode 为 1 时适用，团队 ID 可通过接口[获取空间下团队人员](../1p8d7djs/22b5rbpo)拿到。  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| object| 返回新创建的视图信息。该返回结构遵循结构体[FixView](../1p8d7djs/1x1d372l#65b5b377)格式与规范。  
pagination| object| 分页信息用于展示视图中的工作项信息。  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时0，请求失败返回实际错误码。  
  
​

请求示例​

创建指定协作模式视图

创建默认视图

创建指定人员或团队的固定视图，即 cooperation_mode 为 1。​

Path 示例：POST /open_api/688b63d4610c48aef7c7****/story/fix_view​

​

JSON

复制

{​

"work_item_id_list": [628372xxxx,621541xxxx],​

"name": "测试视图",​

"cooperation_mode": 1,​

"cooperation_user_keys": ["749112601802809xxxx"],​

"cooperation_team_ids": [756190043848060xxxx]​

}

​

​

返回示例​

正确返回示例

错误返回示例

​

JSON

复制

{​

"err": {},​

"err_code": 0,​

"err_msg": "",​

"data": {​

"modified_by": "749112601802809xxxx", // 修改人user_key​

"work_item_id_list": [ // 视图包含的工作项列表​

628372xxxx,​

621541xxxx​

],​

"editable": true, //是否有权限编辑​

"view_id": "xX89cpgvg", //视图id​

"name": "测试视图", //视图名称​

"created_by": "749112601802809xxxx", //创建人user_key​

"created_at": 1761293779000 //创建时间，毫秒精度​

},​

"pagination": { //分页信息​

"total": 2,​

"page_num": 1,​

"page_size": 200​

}​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30005| WorkItem Not Found| 30005| WorkItem Not Found| 请填入正确有效的 work_item_id_list  
1000053645| Workitem Ids Limit 200 For Fix View| 1000053645| Workitem Ids Limit 200 For Fix View| work_item_id_list 最多传入 200 个  
50006| Invalid params| 50006| work_item_id_list missing | 参数填错，缺少 work_item_id_list  
20010| WorkItemType Is Not Same| 20010| WorkItemType Is Not Same| WorkItemType 与 work_item_id_list 类型不匹配  
30004| View Not Found| 30004| view not exist| 创建固定视图不存在该错误  
  
​

上一篇

获取视图下工作项列表（全景视图）

下一篇

更新固定视图
