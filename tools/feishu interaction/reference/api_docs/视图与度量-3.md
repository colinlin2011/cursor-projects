获取视图下工作项列表（全景视图）

该接口用于获取指定全景视图中的所有工作项实例列表和详情信息，对应的平台功能介绍详见​全景视图。对应的权限申请在 权限管理-视图 分类下，相关功能介绍详见 ​权限管理。​

请求说明​

  * 请求方式：POST​



  * 请求地址：/open_api/:project_key/view/:view_id​



请求参数​

Header​

接口调用的 Header 配置详见 [Header](../1p8d7djs/4bsmoql6#a8e43b86)。​

Path​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
project_key| string| 必须| 空间 ID（project_key），或者空间域名（simple_name）。

  * 空间 ID（project_key），在飞书项目空间双击空间名称获取。
  * 空间域名（simple_name），simple_name 一般在飞书项目空间 URL 中获取。例如空间 URL 为 “https://project.feishu.cn/doc/overview”，则 simple_name为 “doc”。

  
view_id| string| 必须| 全景视图 ID，当前只支持通过浏览器 url 后缀获取。例如当前视图 URL 为 https://project.feishu.cn/doc/multiProjectView/view_text，则 view_id 为 “view_text”。  
  
​

Body​

​

参数| 类型| 是否必须| 说明  
---|---|---|---  
page_size| int64| 可选| 每页数据，最大50  
page_num| int64| 可选| 分页页码，从1开始，默认为1  
quick_filter_id| string| 可选| 快捷筛选的标识 ID，用于快速筛选视图列表中的数据。可通过[获取某工作项的视图列表及配置信息](../1p8d7djs/36ugg5au)接口获取。  
  
​

返回参数​

​

参数| 类型| 说明  
---|---|---  
data| list<object>| 工作项信息，遵循[WorkItemInfo](../1p8d7djs/1x1d372l#a16fbe28)结构规范  
pagination| object| 分页信息  
err| object| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_msg| string| 请求成功时返回空值，请求失败时返回实际错误信息。  
err_code| int32| 请求成功时返回0，请求失败返回实际错误码。  
  
​

请求示例​

查询指定快捷筛选的返回结果

查询不带快捷筛选的返回结果

请求示例：/open_api/68382b399de4b0ec6c5axxxx/view/1Q-TDrgvR​

​

JSON

复制

{​

"page_num": 1,​

"page_size": 50,​

"quick_filter_id" : "aOyb76YH-yryW-AwlX-Gdql-Xvxxxxxxx"​

}

​

​

返回示例​

请求成功示例

错误返回示例

​

JSON

复制

{​

"data":[​

{​

"id":1,//工作项id​

"name":"item1",//工作项名称​

"work_item_type_key":"story",//工作项类型​

"project_key":"60acd5610444ba031b50xxxx",//空间id​

"simple_name":"test",//空间域名​

"template_id":12345//使用的模板id​

"template":"control",//流程类型​

"pattern":"Node",//工作流模式;Node节点流，State状态流​

"sub_stage":"started",//需求状态(仅早期实例涉及，已弃用)​

"work_item_status": {},//工作项状态​

"current_nodes":[//当前进行中节点(仅节点流有值)​

{​

"id":"state_1",//节点id​

"name":"node1",//节点名称​

"owners":[//节点负责人user_key列表​

"701251455513382xxxx"​

]​

}​

],​

"state_times": [ //节点时间​

{​

"end_time": 1654156400805,​

"name": "开始",​

"start_time": 1654156400804,​

"state_key": "started"​

},​

{​

"end_time": 0,​

"name": "节点表单",​

"start_time": 1654156400805,​

"state_key": "doing"​

}​

],​

"created_by":"700914671966122xxxx",//创建者userKey​

"updated_by":"700914671966122xxxx",//更新者userKey​

"created_at":1633776613033,//创建时间 毫秒时间戳​

"updated_at":1633776613033,//更新时间 毫秒时间戳​

"fields":[//工作项字段，字段格式可查看字段格式对应表​

{​

"field_alias": "",​

"field_key": "aborted",​

"field_type_key": "aborted",​

"field_value": {​

"is_aborted": false,​

"reason": ""​

}​

},​

{​

"field_alias": "",​

"field_key": "role_owners",​

"field_type_key": "role_owners",​

"field_value": [​

{​

"owners": [​

"70125145551xxxx"​

],​

"role": "uiouiouio"​

},​

{​

"owners": null,​

"role": "test"​

},​

{​

"owners": null,​

"role": "tt"​

}​

]​

}​

],​

}​

],​

"err": {},​

"err_msg": "",​

"err_code": 0​

}

​

​

错误码​

以下列出了该接口相关的错误码信息，若需查看更多通用错误码说明，参见 [Open API 错误码](../1p8d7djs/5aueo3jr)。​

​

err_code| err_msg| err.code| err.msg| 说明  
---|---|---|---|---  
30004| View Not Found| 30004| view not exist| 当前 view_id 不存在，请通过[获取某工作项的视图列表及配置信息](/1p8d7djs/36ugg5au)接口获取正确的 view_id 再传入。  
20003| Wrong WorkItemType Param| 20003| Wrong WorkItemType Param| 获取指定的工作项列表：work_item_type_keys 未填  
  
​

上一篇

获取视图下工作项列表（非全景视图）

下一篇

创建固定视图
